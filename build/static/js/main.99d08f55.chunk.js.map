{"version":3,"sources":["views/controle.jsx","App.js","index.js"],"names":["Controle","useState","transacoes","setTransacoes","produto","setProduto","valor","setValor","transacao","setTransacao","total","setTotal","setNewValor","trans","a","novoValor","map","item","parseInt","useEffect","localStorage","getItem","JSON","parse","loadTransacoes","className","onSubmit","event","preventDefault","t","_id","Math","random","toString","substr","push","setItem","stringify","htmlFor","id","onChange","target","value","type","key","App","ReactDOM","render","document","getElementById"],"mappings":"sOA+IeA,MA5If,WAAqB,IAAD,EACkBC,mBAAS,IAD3B,mBACXC,EADW,KACCC,EADD,OAEYF,mBAAS,IAFrB,mBAEXG,EAFW,KAEFC,EAFE,OAGQJ,mBAAS,GAHjB,mBAGXK,EAHW,KAGJC,EAHI,OAIgBN,mBAAS,GAJzB,mBAIXO,EAJW,KAIAC,EAJA,OAKQR,mBAAS,GALjB,mBAKXS,EALW,KAKJC,EALI,cAsBHC,EAtBG,8EAsBlB,WAA2BC,GAA3B,eAAAC,EAAA,6DACMC,EAAY,EADlB,SAGQF,EAAMG,KAAI,SAAAC,GACQ,KAAlBA,EAAKT,UACPO,GAAaG,SAASD,EAAKX,OAE3BS,GAAaG,SAASD,EAAKX,UAPjC,OAWEK,EAASI,GAXX,4CAtBkB,sBAoElB,OA7DAI,qBAAU,YACR,WACE,IAAMN,EACmC,OAAvCO,aAAaC,QAAQ,cACjBC,KAAKC,MAAMH,aAAaC,QAAQ,eAChC,GAENlB,EAAcU,GAEdD,EAAYC,GAGdW,KACC,IAiDD,yBAAKC,UAAU,aACb,mDACA,yBAAKA,UAAU,WACb,0BAAMC,SApCZ,SAAsBC,GACpBA,EAAMC,iBAEN,IAAIf,EACqC,OAAvCO,aAAaC,QAAQ,cACjBC,KAAKC,MAAMH,aAAaC,QAAQ,eAChC,GAEFQ,EAAI,CACNC,IACE,IACAC,KAAKC,SACFC,SAAS,IACTC,OAAO,EAAG,GACf9B,QAASA,EACTE,MAAOY,SAASZ,GAChBE,UAAWA,GAGbK,EAAMsB,KAAKN,GACXT,aAAagB,QAAQ,aAAcd,KAAKe,UAAUxB,IAClDV,EAAcU,GAMdR,EAAW,IACXE,EAAS,GACTE,EAAa,GANbG,EAAYC,KAcN,2BAAOyB,QAAQ,IAAf,2BACA,4BACEb,UAAU,eACVc,GAAG,YACHC,SAAU,SAAAb,GAAK,OAAIlB,EAAakB,EAAMc,OAAOC,SAE7C,4BAAQA,MAAM,IAAd,6BACA,4BAAQA,MAAM,KAAd,UACA,4BAAQA,MAAM,KAAd,oBAGF,2BAAOJ,QAAQ,IAAf,sBACA,2BACEK,KAAK,OACLlB,UAAU,eACVc,GAAG,UACHG,MAAOtC,EACPoC,SAAU,SAAAb,GAAK,OAAItB,EAAWsB,EAAMc,OAAOC,UAG7C,2BAAOJ,QAAQ,SAAf,SACA,2BACEK,KAAK,OACLlB,UAAU,eACVc,GAAG,QACHG,MAAOpC,EACPkC,SAAU,SAAAb,GAAK,OAAIpB,EAASoB,EAAMc,OAAOC,UAG3C,4BAAQC,KAAK,SAASlB,UAAU,OAAhC,8BAIF,6BACE,2DACA,6BACE,2BAAOA,UAAU,WACf,+BACE,4BACE,6BACA,wBAAIA,UAAU,QAAd,cACA,uCAGJ,+BACGvB,EAAWc,KAAI,SAAAC,GAAI,OAClB,wBAAI2B,IAAK3B,EAAKa,KACZ,4BAAwB,MAAnBb,EAAKT,UAAoB,IAAM,KACpC,4BAAKS,EAAKb,SACV,wBAAIqB,UAAU,SAAd,MAA0BR,EAAKX,YAIrC,+BACE,4BACE,qCACA,wBAAImB,UAAU,SAAd,MAA0Bf,WCxH7BmC,MARf,WACE,OACE,yBAAKpB,UAAU,OACb,kBAAC,EAAD,QCHNqB,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.99d08f55.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./index.css\";\r\n\r\nfunction Controle() {\r\n  const [transacoes, setTransacoes] = useState([]);\r\n  const [produto, setProduto] = useState(\"\");\r\n  const [valor, setValor] = useState(0);\r\n  const [transacao, setTransacao] = useState(0);\r\n  const [total, setTotal] = useState(0);\r\n\r\n  useEffect(() => {\r\n    function loadTransacoes() {\r\n      const trans =\r\n        localStorage.getItem(\"transacoes\") !== null\r\n          ? JSON.parse(localStorage.getItem(\"transacoes\"))\r\n          : [];\r\n\r\n      setTransacoes(trans);\r\n\r\n      setNewValor(trans);\r\n    }\r\n\r\n    loadTransacoes();\r\n  }, []);\r\n\r\n  async function setNewValor(trans) {\r\n    var novoValor = 0;\r\n\r\n    await trans.map(item => {\r\n      if (item.transacao == \"1\") {\r\n        novoValor += parseInt(item.valor);\r\n      } else {\r\n        novoValor -= parseInt(item.valor);\r\n      }\r\n    });\r\n\r\n    setTotal(novoValor);\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    var trans =\r\n      localStorage.getItem(\"transacoes\") !== null\r\n        ? JSON.parse(localStorage.getItem(\"transacoes\"))\r\n        : [];\r\n\r\n    var t = {\r\n      _id:\r\n        \"_\" +\r\n        Math.random()\r\n          .toString(36)\r\n          .substr(2, 9),\r\n      produto: produto,\r\n      valor: parseInt(valor),\r\n      transacao: transacao\r\n    };\r\n\r\n    trans.push(t);\r\n    localStorage.setItem(\"transacoes\", JSON.stringify(trans));\r\n    setTransacoes(trans);\r\n    clearForm();\r\n    setNewValor(trans);\r\n  }\r\n\r\n  function clearForm() {\r\n    setProduto(\"\");\r\n    setValor(0);\r\n    setTransacao(0);\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h4>Controle Financeiro</h4>\r\n      <div className=\"content\">\r\n        <form onSubmit={handleSubmit}>\r\n          <label htmlFor=\"\">Tipo de Transação</label>\r\n          <select\r\n            className=\"form-control\"\r\n            id=\"transacao\"\r\n            onChange={event => setTransacao(event.target.value)}\r\n          >\r\n            <option value=\"\">Selecione uma opção</option>\r\n            <option value=\"1\">Compra</option>\r\n            <option value=\"2\">Devolução</option>\r\n          </select>\r\n\r\n          <label htmlFor=\"\">Nome da Mercadoria</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"produto\"\r\n            value={produto}\r\n            onChange={event => setProduto(event.target.value)}\r\n          ></input>\r\n\r\n          <label htmlFor=\"valor\">Valor</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"valor\"\r\n            value={valor}\r\n            onChange={event => setValor(event.target.value)}\r\n          ></input>\r\n\r\n          <button type=\"submit\" className=\"btn\">\r\n            Adicionar transação\r\n          </button>\r\n        </form>\r\n        <div>\r\n          <h4>Extrato de Transações</h4>\r\n          <div>\r\n            <table className=\"extrato\">\r\n              <thead>\r\n                <tr>\r\n                  <th></th>\r\n                  <th className=\"left\">Mercadoria</th>\r\n                  <th>Valor</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {transacoes.map(item => (\r\n                  <tr key={item._id}>\r\n                    <td>{item.transacao === \"1\" ? \"+\" : \"-\"}</td>\r\n                    <td>{item.produto}</td>\r\n                    <td className=\"right\">R$ {item.valor}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n              <tfoot>\r\n                <tr>\r\n                  <td>Total</td>\r\n                  <td className=\"right\">R$ {total}</td>\r\n                </tr>\r\n              </tfoot>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Controle;\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport Controle from \"./views/controle\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Controle />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}